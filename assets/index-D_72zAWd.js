import{j as e,r as c,b as L}from"./react-CB5pGLRi.js";import{R as M}from"./react-dom-rcmEIEWl.js";import{u as w,H as d,S as k,T as f,I as p,a as v,B,C as j,b,c as I,d as F,e as P,f as R,g as O,h as E,L as G,i as A,j as z,G as D,k as m,l as N,m as T,n as H,o as U}from"./@chakra-ui-DQ8yrGNt.js";import{a as X,C as _}from"./axios-fxVQuQA7.js";import{B as W,M as Y,F as q,a as K,b as $,c as J,d as Q,e as V,f as Z}from"./react-icons-BN-HzFwe.js";import"./copy-to-clipboard-Cpj98o6Y.js";import"./scheduler-SPyfQU6S.js";import"./lodash.mergewith-DWeQPhf2.js";import"./@emotion-D0MvLuuC.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-CF3RwP-h.js";import"./stylis-DDa9OTMq.js";import"./framer-motion-BPq62H0a.js";import"./motion-dom-DrUK_uKl.js";import"./motion-utils-DJR9y8Oj.js";import"./color2k-BSHHkqKj.js";import"./@zag-js-BbAC0Ngi.js";import"./react-fast-compare-DfBxu6Ft.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();const ee="/game-hub/assets/logo-DbjP8WhU.webp",re=()=>{const{toggleColorMode:r,colorMode:o}=w();return e.jsxs(d,{children:[e.jsx(k,{colorScheme:"green",isChecked:o==="dark",onChange:r}),e.jsx(f,{children:"Dark Mode"})]})},se=()=>e.jsxs(d,{justifyContent:"space-between",padding:"10px",children:[e.jsx(p,{src:ee,boxSize:"60px"}),e.jsx(re,{})]}),oe="1b5ab5e03a534987b1197cef8b528c80",te=X.create({baseURL:"https://api.rawg.io/api",params:{key:`${oe}`}}),S=(r,o,t)=>{const[a,s]=c.useState([]),[n,i]=c.useState(""),[y,x]=c.useState(!1);return c.useEffect(()=>{const u=new AbortController;return x(!0),te.get(r,{signal:u.signal,...o}).then(l=>{s(l.data.results),x(!1)}).catch(l=>{l instanceof _||i(l.message)}),()=>u.abort()},t?[...t]:[]),{data:a,error:n,isLoading:y}},ne=r=>S("/games",{params:{genres:r==null?void 0:r.id}},[r==null?void 0:r.id]),ae=({platform:r})=>{const o={pc:Z,playstation:V,xbox:Q,nintendo:J,mac:$,linux:K,android:q,ios:Y,web:W};return e.jsx(d,{marginY:1,children:r.map(t=>e.jsx(v,{as:o[t.slug],color:"gray.500",children:t.name},t.id))})},ie=({score:r})=>{const o=r>75?"green":r>60?"yellow":"";return e.jsx(B,{colorScheme:o,fontSize:"14px",paddingX:2,borderRadius:"4px",children:r})},C=r=>{const o="media/",t=r.indexOf(o)+o.length;return r.slice(0,t)+"crop/600/400/"+r.slice(t)},ce=({game:r})=>e.jsxs(j,{children:[e.jsx(p,{src:C(r.background_image)}),e.jsxs(b,{children:[e.jsx(I,{fontSize:"2xl",children:r.name}),e.jsxs(d,{justify:"space-between",children:[e.jsx(ae,{platform:r.parent_platforms.map(o=>o.platform)}),e.jsx(ie,{score:r.metacritic})]})]})]}),de=()=>e.jsxs(j,{children:[e.jsx(F,{height:"200px"}),e.jsx(b,{children:e.jsx(P,{})})]}),h=({children:r})=>e.jsx(R,{borderRadius:10,overflow:"hidden",children:r}),le=({selectedGenre:r})=>{const{data:o,error:t,isLoading:a}=ne(r),s=[1,2,3,4,5,6];return e.jsxs(e.Fragment,{children:[t&&e.jsx(f,{children:t}),e.jsxs(O,{columns:{sm:1,md:2,lg:3,xl:5},padding:"10px",spacing:3,children:[a&&s.map(n=>e.jsx(h,{children:e.jsx(de,{})},n)),o.map(n=>e.jsx(h,{children:e.jsx(ce,{game:n})},n.id))]})]})},me=()=>S("/genres"),pe=({onSelectedGenre:r})=>{const{data:o,isLoading:t,error:a}=me();return a?null:t?e.jsx(E,{}):e.jsx(G,{children:o.map(s=>e.jsx(A,{paddingY:"5px",children:e.jsxs(d,{children:[e.jsx(p,{boxSize:"32px",borderRadius:8,src:C(s.image_background)}),e.jsx(z,{onClick:()=>r(s),fontSize:"lg",variant:"link",children:s.name})]})},s.id))})};function xe(){const[r,o]=c.useState(null);return e.jsxs(D,{templateAreas:{base:'"nav" "main"',lg:'"nav nav" "aside main"'},templateColumns:{base:"1fr",lg:"200px"},children:[e.jsx(m,{area:"nav",children:e.jsx(se,{})}),e.jsx(N,{above:"lg",children:e.jsx(m,{area:"aside",paddingX:5,children:e.jsx(pe,{onSelectedGenre:t=>o(t)})})}),e.jsx(m,{area:"main",children:e.jsx(le,{selectedGenre:r})})]})}const ue={initialColorMode:"dark"},g=T({config:ue});M.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsxs(H,{theme:g,children:[e.jsx(U,{initialColorMode:g.config.initialColorMode}),e.jsx(xe,{})]})}));
