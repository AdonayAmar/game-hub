import{j as e,r as i,b as G}from"./react-CB5pGLRi.js";import{R}from"./react-dom-rcmEIEWl.js";import{u as O,H as l,S as F,T as b,I as P,a as D,b as E,c as u,d as A,B as N,C as S,e as v,f as z,g as T,h as H,i as C,j as U,k as W,L as X,l as _,m as p,M as y,n as M,o as L,p as I,G as q,q as m,r as Y,F as K,s as $,t as J,v as V}from"./@chakra-ui-DQIQd1D7.js";import{B as Z,a as Q,M as ee,F as re,b as se,c as te,d as ne,e as ae,f as oe,g as ie,h as w}from"./react-icons-Bgum5_RA.js";import{a as ce,C as le}from"./axios-fxVQuQA7.js";import"./copy-to-clipboard-Cpj98o6Y.js";import"./scheduler-SPyfQU6S.js";import"./lodash.mergewith-DWeQPhf2.js";import"./@emotion-D0MvLuuC.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-CF3RwP-h.js";import"./stylis-DDa9OTMq.js";import"./framer-motion-BPq62H0a.js";import"./motion-dom-DrUK_uKl.js";import"./motion-utils-DJR9y8Oj.js";import"./color2k-BSHHkqKj.js";import"./@popperjs-CMBiYTiD.js";import"./@zag-js-BbAC0Ngi.js";import"./react-fast-compare-DfBxu6Ft.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const de="/game-hub/assets/logo-DbjP8WhU.webp",me=()=>{const{toggleColorMode:r,colorMode:s}=O();return e.jsxs(l,{children:[e.jsx(F,{colorScheme:"green",isChecked:s==="dark",onChange:r}),e.jsx(b,{whiteSpace:"nowrap",children:"Dark Mode"})]})},ue=({onSearch:r})=>{const s=i.useRef(null);return e.jsx("form",{onSubmit:t=>{t.preventDefault(),s.current&&r(s.current.value)},children:e.jsxs(P,{children:[e.jsx(D,{children:e.jsx(Z,{})}),e.jsx(E,{ref:s,borderRadius:20,placeholder:"Seach games...",variant:"filled"})]})})},pe=({onSearch:r})=>e.jsxs(l,{padding:"10px",children:[e.jsx(u,{src:de,boxSize:"60px"}),e.jsx(ue,{onSearch:r}),e.jsx(me,{})]}),xe="1b5ab5e03a534987b1197cef8b528c80",he=ce.create({baseURL:"https://api.rawg.io/api",params:{key:`${xe}`}}),x=(r,s,t)=>{const[o,n]=i.useState([]),[a,c]=i.useState(""),[B,h]=i.useState(!1);return i.useEffect(()=>{const g=new AbortController;return h(!0),he.get(r,{signal:g.signal,...s}).then(d=>{n(d.data.results),h(!1)}).catch(d=>{d instanceof le||c(d.message)}),()=>g.abort()},t?[...t]:[]),{data:o,error:a,isLoading:B}},ge=r=>{var s,t;return x("/games",{params:{genres:(s=r.genre)==null?void 0:s.id,platforms:(t=r.platform)==null?void 0:t.id,ordering:r.sortOrder,search:r.searchText}},[r])},je=({platform:r})=>{const s={pc:ie,playstation:oe,xbox:ae,nintendo:ne,mac:te,linux:se,android:re,ios:ee,web:Q};return e.jsx(l,{marginY:1,children:r.map(t=>e.jsx(A,{as:s[t.slug],color:"gray.500",children:t.name},t.id))})},fe=({score:r})=>{const s=r>75?"green":r>60?"yellow":"";return e.jsx(N,{colorScheme:s,fontSize:"14px",paddingX:2,borderRadius:"4px",children:r})},be="/game-hub/assets/no-image-placeholder-2QnybdhG.webp",k=r=>{if(!r)return be;const s="media/",t=r.indexOf(s)+s.length;return r.slice(0,t)+"crop/600/400/"+r.slice(t)},Se=({game:r})=>e.jsxs(S,{children:[e.jsx(u,{src:k(r.background_image)}),e.jsxs(v,{children:[e.jsx(z,{fontSize:"2xl",children:r.name}),e.jsxs(l,{justify:"space-between",children:[e.jsx(je,{platform:r.parent_platforms.map(s=>s.platform)}),e.jsx(fe,{score:r.metacritic})]})]})]}),ve=()=>e.jsxs(S,{children:[e.jsx(T,{height:"200px"}),e.jsx(v,{children:e.jsx(H,{})})]}),j=({children:r})=>e.jsx(C,{borderRadius:10,overflow:"hidden",children:r}),Ce=({gameQuery:r})=>{const{data:s,error:t,isLoading:o}=ge(r),n=[1,2,3,4,5,6];return e.jsxs(e.Fragment,{children:[t&&e.jsx(b,{children:t}),e.jsxs(U,{columns:{sm:1,md:2,lg:3,xl:5},padding:"10px",spacing:3,children:[o&&n.map(a=>e.jsx(j,{children:e.jsx(ve,{})},a)),s.map(a=>e.jsx(j,{children:e.jsx(Se,{game:a})},a.id))]})]})},ye=()=>x("/genres"),Me=({onSelectedGenre:r,selectedGenre:s})=>{const{data:t,isLoading:o,error:n}=ye();return n?null:o?e.jsx(W,{}):e.jsx(X,{children:t.map(a=>e.jsx(_,{paddingY:"5px",children:e.jsxs(l,{children:[e.jsx(u,{boxSize:"32px",borderRadius:8,src:k(a.image_background)}),e.jsx(p,{fontWeight:a.id===(s==null?void 0:s.id)?"bold":"normal",onClick:()=>r(a),fontSize:"lg",variant:"link",children:a.name})]})},a.id))})},Le=()=>x("/platforms/lists/parents"),Ie=({onSelectPlatform:r,selectedPlatform:s})=>{const{data:t,error:o}=Le();return o?null:e.jsxs(y,{children:[e.jsx(M,{as:p,rightIcon:e.jsx(w,{}),children:(s==null?void 0:s.name)||"Platforms"}),e.jsx(L,{children:t.map(n=>e.jsx(I,{onClick:()=>r(n),children:n.name},n.id))})]})},we=({onSelectSortOrder:r,sortOrder:s})=>{const t=[{value:"",label:"Relevance"},{value:"-added",label:"Date added"},{value:"name",label:"Name"},{value:"-released",label:"Release date"},{value:"-metacritic",label:"Popularity"},{value:"-rating",label:"Average rating"}],o=t.find(n=>n.value===s);return e.jsxs(y,{children:[e.jsxs(M,{as:p,rightIcon:e.jsx(w,{}),children:["Order by: ",o==null?void 0:o.label]}),e.jsx(L,{children:t.map(n=>e.jsx(I,{onClick:()=>r(n.value),value:n.value,children:n.label},n.value))})]})};function ke(){const[r,s]=i.useState({});return e.jsxs(q,{templateAreas:{base:'"nav" "main"',lg:'"nav nav" "aside main"'},templateColumns:{base:"1fr",lg:"200px"},children:[e.jsx(m,{area:"nav",children:e.jsx(pe,{onSearch:t=>s({...r,searchText:t})})}),e.jsx(Y,{above:"lg",children:e.jsx(m,{area:"aside",paddingX:5,children:e.jsx(Me,{selectedGenre:r.genre,onSelectedGenre:t=>s({...r,genre:t})})})}),e.jsxs(m,{area:"main",children:[e.jsxs(K,{paddingLeft:2,marginBottom:5,children:[e.jsx(C,{marginRight:5,children:e.jsx(Ie,{selectedPlatform:r.platform,onSelectPlatform:t=>s({...r,platform:t})})}),e.jsx(we,{sortOrder:r.sortOrder,onSelectSortOrder:t=>s({...r,sortOrder:t})})]}),e.jsx(Ce,{gameQuery:r})]})]})}const Be={initialColorMode:"dark"},f=$({config:Be});R.createRoot(document.getElementById("root")).render(e.jsx(G.StrictMode,{children:e.jsxs(J,{theme:f,children:[e.jsx(V,{initialColorMode:f.config.initialColorMode}),e.jsx(ke,{})]})}));
