import{j as e,r as l,b as I}from"./react-CB5pGLRi.js";import{R as O}from"./react-dom-rcmEIEWl.js";import{u as G,H as i,S as P,T as b,I as p,a as R,B as F,C as S,b as C,c as A,d as D,e as E,f as N,g as z,h as T,L as H,i as U,j as u,M as v,k as y,l as M,m as L,G as W,n as m,o as X,p as _,q,r as Y}from"./@chakra-ui-BYj89r2a.js";import{a as K,C as $}from"./axios-fxVQuQA7.js";import{B as J,M as V,F as Z,a as Q,b as ee,c as re,d as se,e as te,f as ne,g as w}from"./react-icons-CF4Snu4W.js";import"./copy-to-clipboard-Cpj98o6Y.js";import"./scheduler-SPyfQU6S.js";import"./lodash.mergewith-DWeQPhf2.js";import"./@emotion-D0MvLuuC.js";import"./hoist-non-react-statics-C48UpQYE.js";import"./react-is-CnyDuYXe.js";import"./@babel-CF3RwP-h.js";import"./stylis-DDa9OTMq.js";import"./framer-motion-BPq62H0a.js";import"./motion-dom-DrUK_uKl.js";import"./motion-utils-DJR9y8Oj.js";import"./color2k-BSHHkqKj.js";import"./@popperjs-CMBiYTiD.js";import"./@zag-js-BbAC0Ngi.js";import"./react-fast-compare-DfBxu6Ft.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const oe="/game-hub/assets/logo-DbjP8WhU.webp",ae=()=>{const{toggleColorMode:r,colorMode:s}=G();return e.jsxs(i,{children:[e.jsx(P,{colorScheme:"green",isChecked:s==="dark",onChange:r}),e.jsx(b,{children:"Dark Mode"})]})},ie=()=>e.jsxs(i,{justifyContent:"space-between",padding:"10px",children:[e.jsx(p,{src:oe,boxSize:"60px"}),e.jsx(ae,{})]}),ce="1b5ab5e03a534987b1197cef8b528c80",le=K.create({baseURL:"https://api.rawg.io/api",params:{key:`${ce}`}}),x=(r,s,n)=>{const[a,t]=l.useState([]),[o,c]=l.useState(""),[B,h]=l.useState(!1);return l.useEffect(()=>{const g=new AbortController;return h(!0),le.get(r,{signal:g.signal,...s}).then(d=>{t(d.data.results),h(!1)}).catch(d=>{d instanceof $||c(d.message)}),()=>g.abort()},n?[...n]:[]),{data:a,error:o,isLoading:B}},de=r=>{var s,n;return x("/games",{params:{genres:(s=r.genre)==null?void 0:s.id,platforms:(n=r.platform)==null?void 0:n.id,ordering:r.sortOrder}},[r])},me=({platform:r})=>{const s={pc:ne,playstation:te,xbox:se,nintendo:re,mac:ee,linux:Q,android:Z,ios:V,web:J};return e.jsx(i,{marginY:1,children:r.map(n=>e.jsx(R,{as:s[n.slug],color:"gray.500",children:n.name},n.id))})},pe=({score:r})=>{const s=r>75?"green":r>60?"yellow":"";return e.jsx(F,{colorScheme:s,fontSize:"14px",paddingX:2,borderRadius:"4px",children:r})},k=r=>{if(!r)return"";const s="media/",n=r.indexOf(s)+s.length;return r.slice(0,n)+"crop/600/400/"+r.slice(n)},ue=({game:r})=>e.jsxs(S,{children:[e.jsx(p,{src:k(r.background_image)}),e.jsxs(C,{children:[e.jsx(A,{fontSize:"2xl",children:r.name}),e.jsxs(i,{justify:"space-between",children:[e.jsx(me,{platform:r.parent_platforms.map(s=>s.platform)}),e.jsx(pe,{score:r.metacritic})]})]})]}),xe=()=>e.jsxs(S,{children:[e.jsx(D,{height:"200px"}),e.jsx(C,{children:e.jsx(E,{})})]}),j=({children:r})=>e.jsx(N,{borderRadius:10,overflow:"hidden",children:r}),he=({gameQuery:r})=>{const{data:s,error:n,isLoading:a}=de(r),t=[1,2,3,4,5,6];return e.jsxs(e.Fragment,{children:[n&&e.jsx(b,{children:n}),e.jsxs(z,{columns:{sm:1,md:2,lg:3,xl:5},padding:"10px",spacing:3,children:[a&&t.map(o=>e.jsx(j,{children:e.jsx(xe,{})},o)),s.map(o=>e.jsx(j,{children:e.jsx(ue,{game:o})},o.id))]})]})},ge=()=>x("/genres"),je=({onSelectedGenre:r,selectedGenre:s})=>{const{data:n,isLoading:a,error:t}=ge();return t?null:a?e.jsx(T,{}):e.jsx(H,{children:n.map(o=>e.jsx(U,{paddingY:"5px",children:e.jsxs(i,{children:[e.jsx(p,{boxSize:"32px",borderRadius:8,src:k(o.image_background)}),e.jsx(u,{fontWeight:o.id===(s==null?void 0:s.id)?"bold":"normal",onClick:()=>r(o),fontSize:"lg",variant:"link",children:o.name})]})},o.id))})},fe=()=>x("/platforms/lists/parents"),be=({onSelectPlatform:r,selectedPlatform:s})=>{const{data:n,error:a}=fe();return a?null:e.jsxs(v,{children:[e.jsx(y,{as:u,rightIcon:e.jsx(w,{}),children:(s==null?void 0:s.name)||"Platforms"}),e.jsx(M,{children:n.map(t=>e.jsx(L,{onClick:()=>r(t),children:t.name},t.id))})]})},Se=({onSelectSortOrder:r,sortOrder:s})=>{const n=[{value:"",label:"Relevance"},{value:"-added",label:"Date added"},{value:"name",label:"Name"},{value:"-released",label:"Release date"},{value:"-metacritic",label:"Popularity"},{value:"-rating",label:"Average rating"}],a=n.find(t=>t.value===s);return e.jsxs(v,{children:[e.jsxs(y,{as:u,rightIcon:e.jsx(w,{}),children:["Order by: ",a==null?void 0:a.label]}),e.jsx(M,{children:n.map(t=>e.jsx(L,{onClick:()=>r(t.value),value:t.value,children:t.label},t.value))})]})};function Ce(){const[r,s]=l.useState({});return e.jsxs(W,{templateAreas:{base:'"nav" "main"',lg:'"nav nav" "aside main"'},templateColumns:{base:"1fr",lg:"200px"},children:[e.jsx(m,{area:"nav",children:e.jsx(ie,{})}),e.jsx(X,{above:"lg",children:e.jsx(m,{area:"aside",paddingX:5,children:e.jsx(je,{selectedGenre:r.genre,onSelectedGenre:n=>s({...r,genre:n})})})}),e.jsxs(m,{area:"main",children:[e.jsxs(i,{spacing:5,paddingLeft:2,marginBottom:5,children:[e.jsx(be,{selectedPlatform:r.platform,onSelectPlatform:n=>s({...r,platform:n})}),e.jsx(Se,{sortOrder:r.sortOrder,onSelectSortOrder:n=>s({...r,sortOrder:n})})]}),e.jsx(he,{gameQuery:r})]})]})}const ve={initialColorMode:"dark"},f=_({config:ve});O.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsxs(q,{theme:f,children:[e.jsx(Y,{initialColorMode:f.config.initialColorMode}),e.jsx(Ce,{})]})}));
